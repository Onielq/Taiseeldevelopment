<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taiseel Development</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #fff;
            color: #1a1a1a;
            scroll-behavior: smooth;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-tap-highlight-color: transparent;
        }

        header {
            position: fixed;
            top: 30px; left: 0;
            width: 100%;
            z-index: 2000;
            padding: 30px 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: transparent;
            transition: all 0.5s ease-in-out, top 0.3s ease-in-out;
        }

        header.scrolled {
            top: 0;
            background: rgba(255,255,255,0.8);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            padding: 15px 60px;
            padding-top: calc(15px + env(safe-area-inset-top, 0px));
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .logo-box { display: flex; align-items: center; gap: 12px; position: relative; }

        .logo-img { height: 60px; transition: all 0.4s ease-in-out; }

        .logo-img.scroll-logo { position: absolute; left: 0; opacity: 0; pointer-events: none; }

        header.scrolled .logo-img.default-logo { opacity: 0; pointer-events: none; }

        header.scrolled .logo-img.scroll-logo { height: 45px; opacity: 1; pointer-events: auto; }

        .brand-text { color: #fff; font-weight: 800; letter-spacing: 2px; font-size: 1.2rem; transition: 0.4s; }

        header.scrolled .brand-text { color: #1a3c22; }

        .menu-icon { cursor: pointer; display: flex; flex-direction: column; gap: 8px; }

        .menu-icon span { width: 35px; height: 2px; background-color: #fff; transition: 0.4s; }

        header.scrolled .menu-icon span { background-color: #1a3c22; }

        .hero {
            height: 100vh;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #fff;
            text-align: center;
            animation: slideshow 10s infinite ease-in-out;
            background-size: cover;
            background-position: center;
            background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.2)), url('landscape.jpg');
        }

        @keyframes slideshow {
            0%,45%  { background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.2)), url('landscape.jpg'); }
            50%,65% { background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.2)), url('landscape2.jpg'); }
            70%,85% { background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.2)), url('landscape3.jpg'); }
            90%,100%{ background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.2)), url('landscape4.jpg'); }
        }

        .hero h1 { font-size: 4rem; font-weight: 300; letter-spacing: 6px; text-transform: uppercase; margin-bottom: 20px; }
        .hero p  { font-size: 1.1rem; font-weight: 400; letter-spacing: 3px; text-transform: uppercase; opacity: 0.9; }

        .impact-bar {
            display: flex;
            align-items: center;
            background: #1a3c22;
            color: #fff;
            position: relative;
            z-index: 100;
            width: 100%;
            padding-right: 1%;
            overflow: visible;
        }

        .excellence-box {
            background: #fff;
            color: #1a1a1a;
            padding: 14px 18px;
            flex: 0 0 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            transform: translateY(-80%);
            margin-left: 3%;
            z-index: 110;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-right: 30px;
        }

        .excellence-box h2 { font-size: 2.2rem; font-weight: 250; margin-bottom: 3px; line-height: 1; display: flex; align-items: flex-start; gap: 2px; color: #1a1a1a; }
        .excellence-box h2 span { font-size: 0.9rem; margin-top: -5px; font-weight: 700; }
        .excellence-box p { font-size: 0.6rem; font-weight: 600; line-height: 1.2; color: #666; margin: 0; max-width: 120px; }

        .stats-content { flex: 1; padding: 2px 20px; display: flex; flex-direction: column; justify-content: center; align-items: flex-end; }

        .stats-label { font-size: 0.8rem; font-weight: 600; letter-spacing: 3px; color: rgba(255,255,255,0.6); text-transform: uppercase; white-space: nowrap; }

        .stats-flex { display: flex; justify-content: flex-end; align-items: center; gap: 150px; }

        .stat-column { flex: 1; }
        .stat-column h3 { font-size: 1.8rem; font-weight: 550; margin-bottom: 2px; color: #fff; letter-spacing: -0.5px; }
        .stat-column p  { font-size: 0.65rem; font-weight: 500; color: rgba(255,255,255,0.7); text-transform: uppercase; letter-spacing: 1.5px; line-height: 1.2; }

        .ceo-section { display: flex; align-items: center; padding: 120px 8% 150px; background-color: #fcfcfc; overflow: hidden; }

        .ceo-container { display: grid; grid-template-columns: 1fr 1.2fr; align-items: center; gap: 80px; max-width: 1300px; margin: 0 auto; }

        .ceo-image-wrapper { position: relative; }

        .ceo-image { width: 100%; height: 550px; background-image: url('ceo.jpg'); background-size: cover; background-position: center; position: relative; z-index: 5; box-shadow: 0 30px 60px rgba(0,0,0,0.1); }

        .ceo-image-wrapper::before { content: ''; position: absolute; top: -30px; left: -30px; width: 150px; height: 150px; background: #c5a059; z-index: 1; }

        .ceo-content { padding: 0; }
        .ceo-label { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 4px; color: #c5a059; font-weight: 700; margin-bottom: 15px; display: block; }
        .ceo-content h2 { font-size: 3rem; font-weight: 300; letter-spacing: 2px; color: #1a3c22; margin-bottom: 30px; line-height: 1.1; }
        .ceo-content p { font-size: 1rem; color: #666; line-height: 1.8; margin-bottom: 20px; }
        .ceo-signature { font-family: 'Times New Roman', serif; font-size: 1.5rem; font-style: italic; color: #1a1a1a; margin-top: 20px; }

        .section { padding: 100px 10%; text-align: center; }
        .section-title { font-size: 2rem; font-weight: 300; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 4px; }
        .underline { width: 40px; height: 2px; background: #c5a059; margin: 0 auto 50px; }

        .gallery-container { display: flex; height: 80vh; width: 100%; overflow-x: hidden; scroll-behavior: smooth; }

        .gallery-item { position: relative; flex: 0 0 25%; height: 100%; background-size: cover; background-position: center; transition: 0.5s ease; cursor: pointer; overflow: hidden; }

        .gallery-item::before { content: ''; position: absolute; top:0; left:0; width:100%; height:100%; background: linear-gradient(transparent, rgba(0,0,0,0.4)); z-index: 1; }

        .slide-overlay { position: absolute; bottom:0; left:0; width:100%; height:100%; transform: translateY(100%); transition: transform 0.6s cubic-bezier(0.25,1,0.5,1); z-index: 10; display: flex; align-items: center; padding: 40px; color: #fff; }

        .gallery-item:hover .slide-overlay { transform: translateY(0); }

        .overlay-inner { width: 100%; }

        .overlay-brand { display: flex; align-items: center; gap: 15px; margin-bottom: 25px; }

        .brand-logo { max-height: 60px; max-width: 150px; object-fit: contain; filter: brightness(0) invert(1); }

        .brand-info { border-left: 2px solid rgba(255,255,255,0.3); padding-left: 15px; }

        .brand-name { font-size: 1.1rem; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; }
        .brand-sub  { font-size: 0.7rem; letter-spacing: 3px; opacity: 0.8; }

        .overlay-desc { font-size: 0.95rem; line-height: 1.6; margin-bottom: 40px; font-weight: 300; }

        .discover-btn { display: inline-block; padding: 12px 25px; border: 1px solid #fff; color: #fff; text-decoration: none; font-size: 0.8rem; letter-spacing: 2px; transition: 0.3s; text-transform: uppercase; }
        .discover-btn:hover { background: #fff; color: #1a1a1a; }

        .nav-btn { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.8); border: none; width: 50px; height: 50px; cursor: pointer; z-index: 20; font-size: 1.2rem; transition: 0.3s; display: flex; align-items: center; justify-content: center; }
        .nav-btn:hover { background: #fff; }
        .nav-btn.prev { left: 20px; }
        .nav-btn.next { right: 20px; }

        .status-btn { font-size: 0.8rem; letter-spacing: 2px; color: #999; cursor: pointer; padding: 5px 15px; transition: 0.3s; font-weight: 600; }
        .status-btn.active { color: #1a1a1a; }
        .status-btn:hover { color: #555; }

        .item-tag { position: absolute; top: 40px; left: 40px; color: #fff; font-size: 0.7rem; letter-spacing: 3px; text-transform: uppercase; z-index: 5; font-weight: 600; }

        .item-info { position: absolute; bottom: 40px; left: 40px; color: #fff; z-index: 5; transition: 0.4s; }
        .gallery-item:hover .item-info { opacity: 0; transform: translateY(-20px); }
        .item-info h3 { font-size: 1.5rem; font-weight: 300; text-transform: uppercase; letter-spacing: 1px; }
        .item-info p  { font-size: 0.8rem; opacity: 0.8; }

        .services-bg { padding: 120px 8%; background: #1a3c22; color: #fff; }
        .services-bg .section-title { color: #fff; font-weight: 300; letter-spacing: 5px; margin-bottom: 20px; }
        .services-bg .underline { background: #c5a059; width: 80px; height: 2px; margin: 0 auto 80px; }

        .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 40px; max-width: 1300px; margin: 0 auto; }

        .service-box { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); padding: 60px 40px; transition: all 0.5s cubic-bezier(0.2,1,0.3,1); position: relative; overflow: hidden; }
        .service-box::after { content: ''; position: absolute; bottom:0; left:0; width:0; height:2px; background:#c5a059; transition: width 0.5s ease; }
        .service-box:hover { background: rgba(255,255,255,0.07); transform: translateY(-10px); border-color: rgba(197,160,89,0.5); }
        .service-box:hover::after { width: 100%; }
        .service-box h4 { font-size: 1.4rem; font-weight: 400; letter-spacing: 1.5px; color: #c5a059; margin-bottom: 25px; text-transform: uppercase; }
        .service-box p  { font-size: 0.85rem; color: #666; line-height: 1.6; }

        .map-section { display: flex; height: 600px; position: relative; background: #f4f4f4; }
        .map-left { flex: 1.5; position: relative; }
        .map-frame { width: 100%; height: 100%; border: none; filter: grayscale(30%); }
        .map-right { flex: 1; padding: 50px; display: flex; flex-direction: column; justify-content: center; background: rgba(255,255,255,0.85); -webkit-backdrop-filter: blur(12px); backdrop-filter: blur(12px); border-left: 1px solid rgba(255,255,255,0.4); }

        .loc-btn { display: flex; width: 100%; padding: 20px; margin-bottom: 15px; border: 1px solid #ddd; background: #fff; text-align: left; font-family: 'Montserrat', sans-serif; font-weight: 600; cursor: pointer; transition: 0.3s; justify-content: space-between; align-items: center; }
        .loc-btn:hover { border-color: #1a3c22; background: #1a3c22; color: #fff; transform: translateX(10px); }
        .loc-btn::after { content: '→'; opacity: 0; transition: 0.3s; }
        .loc-btn:hover::after { opacity: 1; }

        .view { display: none; animation: fadeIn 0.4s ease; }
        .view.active { display: block; }

        @keyframes fadeIn { from { opacity:0; transform: translateY(8px); } to { opacity:1; transform: translateY(0); } }

        .back-link { font-size: 0.8rem; color: #999; cursor: pointer; margin-bottom: 20px; display: inline-block; }
        .back-link:hover { color: #1a3c22; text-decoration: underline; }

        .details-title { font-size: 1.8rem; color: #1a3c22; margin-bottom: 5px; }
        .details-subtitle { font-size: 0.8rem; color: #c5a059; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 25px; font-weight: 700; }

        .cat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 25px; }

        .cat-btn { display: flex; flex-direction: column; align-items: flex-start; justify-content: center; width: 100%; padding: 12px 15px; border: 1px solid #eee; background: #fff; font-family: 'Montserrat', sans-serif; font-size: 0.8rem; font-weight: 600; color: #333; cursor: pointer; transition: all 0.3s; border-radius: 12px; height: 100%; }
        .cat-btn:hover { border-color: #1a3c22; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .cat-btn.active { border-color: #1a3c22; background: #1a3c22; color: #fff; }
        .cat-btn .mini-badge { font-size: 0.65rem; padding: 2px 6px; border-radius: 8px; font-weight: 700; margin-top: 5px; display: inline-block; }
        .cat-btn .badge-up   { background: rgba(130,202,157,0.2); color: #82ca9d; }
        .cat-btn .badge-down { background: rgba(231,76,60,0.15); color: #e74c3c; }
        .cat-btn.active .badge-up   { background: rgba(255,255,255,0.2); color: #fff; }
        .cat-btn.active .badge-down { background: rgba(255,255,255,0.2); color: #ff8a80; }

        .chart-detail-title { font-size: 1.1rem; font-weight: 600; color: #1a3c22; margin-bottom: 5px; }
        .chart-detail-sub   { font-size: 0.7rem; color: #aaa; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 20px; }

        .chart-detail-canvas { width: 100%; height: 250px; background: #fff; border-radius: 20px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); position: relative; cursor: crosshair; box-sizing: border-box; }
        .chart-detail-canvas canvas { width: 100%; height: 100%; }

        .split-section { display: flex; height: 600px; }
        .split-image { flex: 1.2; background-size: cover; background-position: center; }
        .split-content { flex: 0.8; padding: 80px; background: #1a3c22; color: #fff; display: flex; flex-direction: column; justify-content: center; }
        .split-content h2 { font-size: 2rem; font-weight: 300; margin-bottom: 25px; text-transform: uppercase; letter-spacing: 3px; }
        .split-content p  { font-size: 0.95rem; line-height: 1.8; margin-bottom: 30px; opacity: 0.8; }

        .partners-section { padding: 80px 0; background: #fff; overflow: hidden; position: relative; }
        .partners-section h3 { text-align: center; font-size: 1.2rem; text-transform: uppercase; letter-spacing: 3px; color: #999; margin-bottom: 50px; }

        .slider { height: 100px; margin: auto; overflow: hidden; position: relative; width: 100%; }
        .slide-track { display: flex; width: calc(250px * 10); animation: scroll 20s linear infinite; }
        .slide { height: 100px; width: 250px; display: flex; align-items: center; justify-content: center; padding: 0 20px; }
        .slide img { height: 60px; width: auto; filter: grayscale(100%); opacity: 0.6; transition: 0.3s; }
        .slide img:hover { filter: grayscale(0%); opacity: 1; }

        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-1250px); } }

        footer { padding: 80px 10%; background: #f9f9f9; border-top: 1px solid #eee; display: flex; justify-content: space-between; }
        .footer-links p { font-weight: 700; font-size: 0.7rem; letter-spacing: 2px; margin-bottom: 25px; color: #1a3c22; }
        .footer-links a { display: block; margin-bottom: 12px; font-size: 0.8rem; color: #777; transition: 0.3s; }

        .qr-column { display: flex; flex-direction: column; align-items: center; text-align: center; }
        .qr-box { background: #fff; padding: 10px; border: 1px solid #eee; box-shadow: 0 10px 30px rgba(0,0,0,0.05); margin-bottom: 15px; transition: transform 0.3s ease; }
        .qr-box:hover { transform: translateY(-5px); }
        .qr-img { width: 100px; height: 100px; display: block; }
        .qr-text { font-size: 0.65rem; font-weight: 700; letter-spacing: 1px; color: #c5a059; text-transform: uppercase; }

        #sidebar { position: fixed; top:0; right:-400px; width:400px; height:100vh; background:#fff; z-index:3000; transition:0.5s cubic-bezier(0.77,0,0.175,1); padding:100px 50px; }
        #sidebar.active { right: 0; }
        .close-btn { position: absolute; top:40px; right:40px; font-size:2rem; cursor:pointer; }

        .registration-section { padding: 100px 5%; background: #f4f4f4; border-top: 1px solid #eee; }
        .reg-container { max-width: 1200px; margin: 0 auto; background: #fff; padding: 60px; border-radius: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.05); }
        .reg-header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 40px; flex-wrap: wrap; }
        .reg-header h2 { color: #1a3c22; font-size: 1.5rem; letter-spacing: 2px; text-transform: uppercase; }
        .privacy-note { font-size: 0.8rem; color: #999; }

        .reg-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 20px; }

        .reg-form input,
        .reg-form select { width: 100%; padding: 15px; border: 1px solid #ddd; font-family: 'Montserrat', sans-serif; font-size: 0.9rem; color: #333; background: #f9f9f9; border-radius: 12px; outline: none; transition: 0.3s; }
        .reg-form input:focus,
        .reg-form select:focus { border-color: #1a3c22; }

        @media (min-width: 993px) { .reg-grid *:nth-child(9) { grid-column: span 4; } }

        .submit-btn { transition: 0.3s all ease; }
        .submit-btn:hover { background: #15311b !important; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        .phone-group { display: flex; gap: 10px; align-items: center; }
        .phone-group input { flex: 1; }
        .code-select { width: 120px !important; }

        .broker-check { margin-top: 20px; max-width: 400px; }

        .consent-group { margin-top: 20px; display: flex; align-items: flex-start; gap: 12px; }
        .consent-group input[type="checkbox"] { width: 18px !important; height: 18px; margin-top: 2px; cursor: pointer; }
        .consent-group label { font-size: 0.85rem; color: #777; line-height: 1.5; cursor: pointer; }

        .submit-container { margin-top: 40px; text-align: right; }

        .contact-bar { background-color: rgb(43,42,42); color: white; height: 30px; display: flex; align-items: center; justify-content: flex-end; padding-right: 40px; font-size: 13px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; position: relative; z-index: 2500; }
        .contact-bar a { color: white; text-decoration: none; cursor: pointer; }

        @media (max-width: 992px) {
            header, header.scrolled { padding: 15px 30px; }
            .hero h1 { font-size: 3rem; }
            .reg-grid { grid-template-columns: repeat(2, 1fr); }
            .map-section { flex-direction: column; height: auto; }
            .map-left { height: 350px; }
            .map-right { padding: 30px; }
            .impact-bar { width: 90%; flex-direction: column; align-items: center; margin-top: -60px; }
            .excellence-box { flex: none; padding: 40px; width: 100%; text-align: center; }
            .excellence-box h2 { justify-content: center; }
            .stats-content { padding: 40px 0; text-align: center; background: #1a1a1a; width: 100%; }
            .stats-flex { flex-direction: column; gap: 40px; }
            .gallery-item { flex: 0 0 50%; }
        }

        @media (max-width: 600px) {
            .hero { height: 100dvh; min-height: -webkit-fill-available; }
            .hero h1 { font-size: 2.2rem; letter-spacing: 3px; }
            .hero p  { font-size: 0.9rem; letter-spacing: 2px; }
            .section { padding: 60px 5%; }
            .section-title { font-size: 1.5rem; }
            .impact-bar { width: 100%; margin-top: 0; }
            .gallery-container { flex-direction: row !important; height: 70vh !important; overflow-x: auto !important; -webkit-overflow-scrolling: touch; scroll-snap-type: x mandatory; scrollbar-width: none; -ms-overflow-style: none; }
            .gallery-container::-webkit-scrollbar { display: none; }
            .gallery-item { flex: 0 0 85% !important; scroll-snap-align: center; border-right: 5px solid #fff; }
            .slide-overlay { transform: translateY(70%); background: linear-gradient(to top, rgba(0,0,0,0.9) 70%, transparent); }
            .gallery-item.active .slide-overlay, .gallery-item:active .slide-overlay { transform: translateY(0); }
            .nav-btn { display: none; }
            .reg-grid { grid-template-columns: 1fr; }
            .reg-header { flex-direction: column; gap: 10px; }
            .submit-container { text-align: center; padding-bottom: env(safe-area-inset-bottom, 20px); }
            footer { padding-bottom: calc(40px + env(safe-area-inset-bottom, 0px)); }
            .contact-bar { justify-content: center; padding-right: 0; font-size: 11px; }
            header { top: 30px; }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <div class="contact-bar">
        <a href="#">Contact</a>
    </div>

    <header id="header">
        <div class="logo-box">
            <img src="logo.png" alt="Logo" class="logo-img default-logo">
            <img src="logo2.png" alt="Logo" class="logo-img scroll-logo">
            <div class="brand-info">
                <div class="brand-text">TAISEEL</div>
                <div class="brand-sub">DEVELOPMENT</div>
            </div>
        </div>
        <div class="menu-icon" onclick="toggleSidebar()">
            <span></span><span></span><span></span>
        </div>
    </header>

    <div id="sidebar">
        <span class="close-btn" onclick="toggleSidebar()">&times;</span>
        <!-- FIX 1: was <h2> style="..." (stray > broke the opening tag) -->
        <h2 style="font-weight:300; letter-spacing:5px; margin-bottom:40px; color:#1a3c22;">EXPLORE</h2>
        <nav class="footer-links">
            <a href="#projects" onclick="toggleSidebar()">COMMUNITIES</a>
            <a href="#services" onclick="toggleSidebar()">OUR SERVICES</a>
            <a href="#analytics" onclick="toggleSidebar()">MARKET INTELLIGENCE</a>
            <a href="#landowners" onclick="toggleSidebar()">FOR LANDOWNERS</a>
            <a href="#partners" onclick="toggleSidebar()">PARTNERS</a>
            <a href="#contact" onclick="toggleSidebar()">CONTACT</a>
        </nav>
    </div>

    <section class="hero" id="home">
        <p>Ownership With Ease</p>
        <h1>Taiseel Development</h1>
        <p>A Legacy Built on Trust and Innovation</p>
    </section>

    <div class="impact-bar">
        <div class="excellence-box">
            <h2>4.5 <span>★</span></h2>
            <p>Excellence Backed by Real Client Feedback</p>
        </div>
        <div class="stats-content">
            <div class="stats-flex">
                <div class="stats-label">IMPACT IN NUMBERS</div>
                <div class="stat-column"><h3>120+</h3><p>COMPLETED<br>PROJECTS</p></div>
                <div class="stat-column"><h3>94%</h3><p>CLIENT<br>SATISFACTION</p></div>
                <div class="stat-column"><h3>64+</h3><p>YEARS OF<br>EXPERTISE</p></div>
            </div>
        </div>
    </div>

    <section class="ceo-section" id="about">
        <div class="ceo-container">
            <div class="ceo-image-wrapper">
                <div class="ceo-image"></div>
            </div>
            <div class="ceo-content">
                <div class="ceo-label">Founder & CEO</div>
                <h2>Kalisa Taisili</h2>
                <!-- FIX 2: malformed nested/unclosed <p> tags corrected -->
                <p>A visionary leader in Rwanda's real estate sector, Kalisa Taisili founded Taiseel Development with a
                    singular mission: to democratize property ownership through structure, transparency, and innovation.</p>
                <p class="ceo-signature">" It not selling homes, we introduce you the city and help you live the best life in it "</p>
                <div class="ceo-signature">Kalisa Taisili</div>
            </div>
        </div>
    </section>

    <section class="section" id="projects" style="padding:100px 0 0 0; background:#fff;">
        <div class="projects-header" style="display:flex; justify-content:space-between; align-items:center; padding:0 5%; margin-bottom:40px;">
            <h2 class="section-title" style="margin-bottom:0;">The World of Taiseel</h2>
            <div class="status-toggles">
                <!-- FIX 3: pass event explicitly — relying on global `event` is deprecated -->
                <span class="status-btn active" onclick="filterProjects(event,'NEW')">NEW</span>
                <span class="status-btn" onclick="filterProjects(event,'LIVE')">LIVE</span>
            </div>
        </div>

        <div class="slider-wrap" style="position:relative; width:100%;">
            <button class="nav-btn prev" onclick="moveSlider(-1)">&#10094;</button>
            <div class="gallery-container" id="projectSlider">

                <div class="gallery-item project-new" style="background-image:url('kigaliheight.jpg')">
                    <div class="slide-overlay" style="background:rgba(13,34,49,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="kigaliheight.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">KIGALIHEIGHT</div><div class="brand-sub">RESIDENCES</div></div></div>
                            <p class="overlay-desc">Kigali height invites you to explore its vibrant residential ecosystem with 4 interconnected buildings on a green podium.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">RESIDENTIAL CARET</div>
                    <div class="item-info"><h3>The Heights Residences</h3><p>Kigali, Nyarugenge</p></div>
                </div>

                <div class="gallery-item project-live" style="background-image:url('brilliant tower.jpg')">
                    <div class="slide-overlay" style="background:rgba(26,60,34,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="brillianttower.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">BRILIANT</div><div class="brand-sub">TOWER</div></div></div>
                            <p class="overlay-desc">Discover a legendary destination that redefines luxury living with its iconic architecture and pristine surroundings.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">COMMERCIAL HUB</div>
                    <div class="item-info"><h3>Brilliant Tower</h3><p>Kigali, Kacyiru</p></div>
                </div>

                <div class="gallery-item project-new" style="background-image:url('inzovumall.jpg')">
                    <div class="slide-overlay" style="background:rgba(30,30,30,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="inzovumall.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">INZOVU</div><div class="brand-sub">MALL</div></div></div>
                            <p class="overlay-desc">An ultra-modern retail and lifestyle experience combining contemporary design with resort-style amenities.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">LUXURY LIVING</div>
                    <div class="item-info"><h3>Inzovu Mall</h3><p>Kigali, Gasabo</p></div>
                </div>

                <div class="gallery-item project-live" style="background-image:url('zaria court.jpg')">
                    <div class="slide-overlay" style="background:rgba(14,25,43,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="zariacourt.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">ZARIA</div><div class="brand-sub">COURT</div></div></div>
                            <p class="overlay-desc">Live at the heart of the city's most desirable location, offering sophisticated interiors and panoramic skyline views.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">URBAN COLLECTION</div>
                    <div class="item-info"><h3>Zaria Court</h3><p>Kigali, Remera</p></div>
                </div>

                <div class="gallery-item project-new" style="background-image:url('VisionCity2.jpg')">
                    <div class="slide-overlay" style="background:rgba(0,51,102,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="VisionCity.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">VISION</div><div class="brand-sub">CITY</div></div></div>
                            <p class="overlay-desc">A sanctuary of calm and elegance offering exclusive waterfront villas with direct access to private boating facilities.</p>
                            <a href="palm-central-private-residences 2.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">WATERFRONT</div>
                    <div class="item-info"><h3>Vision City</h3><p>Kigali, Gasabo</p></div>
                </div>

                <div class="gallery-item project-live" style="background-image:url('greenlandplaza.jpg')">
                    <div class="slide-overlay" style="background:rgba(45,45,45,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="greenlandplaza.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">GREENLAND</div><div class="brand-sub">PLAZA</div></div></div>
                            <p class="overlay-desc">Rising above the city, Greenland Plaza offers modern penthouses with floor-to-ceiling glass and expansive private decks.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">PENTHOUSE</div>
                    <div class="item-info"><h3>Greenland Plaza</h3><p>Kigali, Hilltop</p></div>
                </div>

                <div class="gallery-item project-new" style="background-image:url('OPULENT PARK.jpg')">
                    <div class="slide-overlay" style="background:rgba(0,40,40,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="OPULENT PARK.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">OPULENT</div><div class="brand-sub">PARK</div></div></div>
                            <p class="overlay-desc">Sophisticated living at its finest — classic architecture meets modern infrastructure in a prime location.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">METROPOLITAN</div>
                    <div class="item-info"><h3>Opulent Park</h3><p>Kigali, Downtown</p></div>
                </div>

                <div class="gallery-item project-live" style="background-image:url('greencomplex.jfif')">
                    <div class="slide-overlay" style="background:rgba(34,60,26,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="greencomplex.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">GREEN</div><div class="brand-sub">COMPLEX</div></div></div>
                            <p class="overlay-desc">A lush green retreat in the city, where modern homes are nestled within hectares of landscaped parks.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">ECO-LIVING</div>
                    <div class="item-info"><h3>GREEN COMPLEX</h3><p>Kigali, Greenbelt</p></div>
                </div>

                <div class="gallery-item project-new" style="background-image:url('lakeviewside.jpg')">
                    <div class="slide-overlay" style="background:rgba(0,0,50,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="SAPPHIRE.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">LAKE VIEW</div><div class="brand-sub">SIDE</div></div></div>
                            <p class="overlay-desc">The pinnacle of coastal luxury offering breathtaking vistas and bespoke interior craftsmanship.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">LUXURY COASTAL</div>
                    <div class="item-info"><h3>Sapphire Point</h3><p>Kigali, Horizon</p></div>
                </div>

                <div class="gallery-item project-live" style="background-image:url('JASMINE HILLS.png')">
                    <div class="slide-overlay" style="background:rgba(60,40,20,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="HORIZON.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">JASMINE</div><div class="brand-sub">HILLS</div></div></div>
                            <p class="overlay-desc">Where the sky meets the earth — spacious family homes designed for modern lifestyles and long-term comfort.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">FAMILY LIVING</div>
                    <div class="item-info"><h3>JASMINE HILLS</h3><p>Kigali, Panorama</p></div>
                </div>

                <div class="gallery-item project-new" style="background-image:url('greenlandplaza2.jpg')">
                    <div class="slide-overlay" style="background:rgba(0,60,60,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="COASTAL.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">GREENLAND</div><div class="brand-sub">PLAZA II</div></div></div>
                            <p class="overlay-desc">Light-filled apartments featuring sustainable materials and open-plan living areas.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">SUSTAINABLE</div>
                    <div class="item-info"><h3>GREENLAND PLAZA II</h3><p>Kigali, Marine</p></div>
                </div>

                <div class="gallery-item project-live" style="background-image:url('download24.jpeg')">
                    <div class="slide-overlay" style="background:rgba(40,20,60,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="URBAN.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">URBAN</div><div class="brand-sub">OASIS</div></div></div>
                            <p class="overlay-desc">A peaceful sanctuary in the heart of the city, merging vertical greenery with smart home technology.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">SMART CITY</div>
                    <div class="item-info"><h3>Urban Oasis</h3><p>Kigali, Innovation</p></div>
                </div>

                <div class="gallery-item project-new" style="background-image:url('https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=2064&auto=format&fit=crop')">
                    <div class="slide-overlay" style="background:rgba(80,40,0,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="SUNSET.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">SUNSET</div><div class="brand-sub">RIDGE</div></div></div>
                            <p class="overlay-desc">Luxury townhouses perfectly positioned to capture the golden hour with unparalleled mountain vistas.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">MOUNTAIN VIEW</div>
                    <div class="item-info"><h3>Sunset Ridge</h3><p>Kigali, Westridge</p></div>
                </div>

                <div class="gallery-item project-live" style="background-image:url('download22.jpeg')">
                    <div class="slide-overlay" style="background:rgba(20,20,20,0.95);">
                        <div class="overlay-inner">
                            <div class="overlay-brand"><img src="ZENITH.png" alt="" class="brand-logo"><div class="brand-info"><div class="brand-name">THE ZENITH</div><div class="brand-sub">COLLECTION</div></div></div>
                            <p class="overlay-desc">The ultimate expression of luxury — a limited collection of bespoke mansions with private helipads and infinity pools.</p>
                            <a href="palm-central-private-residences.html" class="discover-btn">DISCOVER MORE</a>
                        </div>
                    </div>
                    <div class="item-tag">BESPOKE LUXURY</div>
                    <div class="item-info"><h3>The Zenith</h3><p>Kigali, Summit</p></div>
                </div>

            </div>
            <button class="nav-btn next" onclick="moveSlider(1)">&#10095;</button>
        </div>
    </section>

    <section class="services-bg" id="services">
        <h2 class="section-title" style="text-align:center;">Our Expertise</h2>
        <div class="underline"></div>
        <div class="services-grid">
            <div class="service-box" data-index="01"><h4>Off-Plan Development</h4><p>Master-planned units sold with flexible payment milestones prior to completion.</p></div>
            <div class="service-box" data-index="02"><h4>Joint Ventures</h4><p>Strategic partnerships with landowners to maximize asset potential and equity through shared vision and expert execution.</p></div>
            <div class="service-box" data-index="03"><h4>Property Management</h4><p>Dedicated facilities and asset management ensuring long-term value appreciation.</p></div>
            <div class="service-box" data-index="04"><h4>Escrow Coordination</h4><p>Secure fund management protecting investor capital and project timelines.</p></div>
            <div class="service-box" data-index="05"><h4>Rental Services</h4><p>Professional leasing solutions connecting world-class tenants with premium spaces.</p></div>
            <div class="service-box" data-index="06"><h4>Sales & Brokerage</h4><p>Strategic agency services for the acquisition and disposition of high-value assets.</p></div>
            <div class="service-box" data-index="07"><h4>Sale–Leaseback</h4><p>Capital restructuring solutions allowing owners to unlock liquidity from core assets.</p></div>
            <div class="service-box" data-index="08"><h4>Syndication & Pooling</h4><p>Structured investment vehicles for collective real estate development.</p></div>
            <div class="service-box" data-index="09"><h4>Rent-to-Own</h4><p>Innovative ownership pathways facilitating long-term residency and equity growth.</p></div>
        </div>
    </section>

    <section class="map-section" id="analytics">
        <div class="map-left">
            <iframe class="map-frame" src="https://www.openstreetmap.org/export/embed.html?bbox=30.0300%2C-1.9900%2C30.1500%2C-1.9300&amp;layer=mapnik&amp;marker=-1.9500%2C30.0900"></iframe>
        </div>
        <div class="map-right">
            <div id="view-locations" class="view active">
                <h3 style="font-size:1.4rem; color:#1a3c22; margin-bottom:25px; font-weight:300;">Select a Prime Zone</h3>
                <div class="loc-btn" onclick="showDetails('Nyarugenge')">Nyarugenge District</div>
                <div class="loc-btn" onclick="showDetails('Kicukiro')">Kicukiro District</div>
                <div class="loc-btn" onclick="showDetails('Gasabo')">Gasabo District</div>
            </div>
            <div id="view-dashboard" class="view">
                <div class="back-link" onclick="goBackToLocations()">← Back to Zones</div>
                <h2 class="details-title" id="zone-title">District Name</h2>
                <p class="details-subtitle">SELECT A SECTOR TO VIEW TRENDS</p>
                <div id="category-grid" class="cat-grid"></div>
                <h3 class="chart-detail-title" id="chart-title">Category</h3>
                <p class="chart-detail-sub" id="chart-sub">2020 – 2025 • DISTRICT</p>
                <div class="chart-detail-canvas" id="chart-detail-wrap">
                    <canvas id="detail-canvas"></canvas>
                </div>
            </div>
        </div>
    </section>

    <section class="registration-section" id="register">
        <div class="reg-container">
            <div class="reg-header">
                <h2>REGISTER YOUR INTEREST</h2>
                <p class="privacy-note">Taiseel's privacy policy explains how we handle your personal data.</p>
            </div>
            <form class="reg-form" novalidate>
                <div class="reg-grid">
                    <input type="text" name="First Name" placeholder="First Name*" required>
                    <input type="text" name="Last Name" placeholder="Last Name*" required>
                    <input type="email" name="Email Address" placeholder="Email Address*" required>
                    <select name="Country of Residence" title="Country of residence" required>
                        <option value="" selected>Country of Residence*</option>
                        <option value="RW">Rwanda</option>
                        <option value="US">United States</option>
                        <option value="UK">United Kingdom</option>
                        <option value="AE">UAE</option>
                        <option value="Other">Other</option>
                    </select>
                    <div class="phone-group">
                        <select class="code-select" id="phone-code" name="Phone Code" title="Country code" required></select>
                        <input type="tel" name="Phone Number" placeholder="780 000 000" required>
                    </div>
                    <select name="No of Bedrooms" title="Number of Bedrooms">
                        <option value="" disabled selected>No of Bedrooms</option>
                        <option value="1">1 Bedroom</option>
                        <option value="2">2 Bedrooms</option>
                        <option value="3">3 Bedrooms</option>
                        <option value="4+">4+ Bedrooms</option>
                    </select>
                    <select name="How soon are you looking to buy" title="Purchase Timeline">
                        <option value="" disabled selected>How soon are you looking to buy?</option>
                        <option value="Immediate">Immediately</option>
                        <option value="3months">Within 3 months</option>
                        <option value="6months">Within 6 months</option>
                        <option value="Later">Later</option>
                    </select>
                    <select name="Purpose of buying" title="Purpose of Buying">
                        <option value="" disabled selected>What's the purpose of buying?</option>
                        <option value="Investment">Investment</option>
                        <option value="Residence">Personal Residence</option>
                    </select>
                    <select name="Other Purposes" title="Other Purposes">
                        <option value="" disabled selected>Other Purposes</option>
                        <option value="PROPERTY MANAGEMENT">PROPERTY MANAGEMENT</option>
                        <option value="JOINT VENTURES">JOINT VENTURES</option>
                        <option value="OFF-PLAN DEVELOPMENT">OFF-PLAN DEVELOPMENT</option>
                        <option value="RENTAL SERVICES">RENTAL SERVICES</option>
                        <option value="SALES & BROKERAGE">SALES & BROKERAGE</option>
                        <option value="ESCROW COORDINATION">ESCROW COORDINATION</option>
                        <option value="SALE–LEASEBACK">SALE–LEASEBACK</option>
                        <option value="SYNDICATION & POOLING">SYNDICATION & POOLING</option>
                        <option value="RENT-TO-OWN">RENT-TO-OWN</option>
                    </select>
                </div>
                <div class="broker-check">
                    <select name="Broker Assisted" title="Broker">
                        <option value="" disabled selected>I am assisted by a broker</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="consent-group">
                    <input type="checkbox" id="privacy-consent" required>
                    <label for="privacy-consent">By accepting and providing my personal information I am consenting to Taiseel Development Privacy Policy, as well as the applicable data protection laws.*</label>
                </div>
                <div class="submit-container">
                    <button type="submit" class="submit-btn" style="background:#1a3c22; color:#fff; padding:15px 40px; border:none; font-weight:700; letter-spacing:2px; cursor:pointer; border-radius:12px;">SUBMIT</button>
                </div>
            </form>
        </div>
    </section>

    <section class="split-section" id="landowners">
        <div class="split-image" style="background-image:url('https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=1973&auto=format&fit=crop');"></div>
        <div class="split-content">
            <h2>Partner With Us</h2>
            <p>At Taiseel Development, we turn land into landmarks. Our Joint Venture model allows landowners to participate in high-margin developments with absolute legal security and zero capital requirement.</p>
            <a href="#" style="color:#c5a059; font-weight:700; text-transform:uppercase; font-size:0.75rem; letter-spacing:2px;">Enquire Now &rarr;</a>
        </div>
    </section>

    <section class="partners-section" id="partners">
        <h3>Strategic Partners</h3>
        <div class="slider">
            <div class="slide-track">
                <div class="slide"><img src="kigali.png" alt="Kigali City"></div>
                <div class="slide"><img src="visitrwanda.png" alt="Visit Rwanda"></div>
                <div class="slide"><img src="mtn.png" alt="MTN"></div>
                <div class="slide"><img src="rdb.png" alt="RDB"></div>
                <div class="slide"><img src="equity.png" alt="Equity Bank"></div>
                <div class="slide"><img src="kigali.png" alt="Kigali City"></div>
                <div class="slide"><img src="visitrwanda.png" alt="Visit Rwanda"></div>
                <div class="slide"><img src="mtn.png" alt="MTN"></div>
                <div class="slide"><img src="rdb.png" alt="RDB"></div>
                <div class="slide"><img src="equity.png" alt="Equity Bank"></div>
            </div>
        </div>
    </section>

    <footer id="contact">
        <div>
            <div style="font-weight:800; letter-spacing:2px; color:#1a3c22; font-size:1.2rem; margin-bottom:10px;">TAISEEL DEVELOPMENT</div>
            <p style="font-size:0.8rem; color:#999; max-width:300px; line-height:1.8;">Facilitating ownership and building Rwanda's future through world-class development expertise.</p>
        </div>
        <div class="footer-links">
            <p>SITEMAP</p>
            <a href="#">PROJECTS</a>
            <a href="#">SERVICES</a>
            <a href="#">LANDOWNERS</a>
            <a href="#">ABOUT US</a>
        </div>
        <div class="footer-links">
            <p>CONTACT</p>
            <p style="font-size:0.85rem; color:#666; margin-bottom:10px;">info@taiseeldevelopment.rw</p>
            <p style="font-size:0.85rem; color:#666;">+250 785 573 225</p>
            <p style="font-size:0.85rem; color:#666; margin-top:10px;">Kigali, Rwanda</p>
        </div>
        <div class="qr-column">
            <div class="qr-box"><img src="qrcode.png" alt="Scan to Connect" class="qr-img"></div>
            <div class="qr-text">Scan to Connect</div>
        </div>
    </footer>

    <script>
        // Header scroll
        window.onscroll = function () {
            const header = document.getElementById("header");
            header.classList.toggle("scrolled", window.pageYOffset > 50);
        };

        function toggleSidebar() { document.getElementById("sidebar").classList.toggle("active"); }

        // --- MAP SECTION ---
        let currentLocation = '';
        const trendData = {
            'Nyarugenge': {
                'Business & Office':    { values: [74,78,82,85,89,92], color: '#82ca9d' },
                'Living & Home':        { values: [65,68,70,72,75,78], color: '#82ca9d' },
                'Land Acquisition':     { values: [55,60,68,75,82,88], color: '#82ca9d' },
                'Restaurant & Retail':  { values: [50,52,55,60,64,70], color: '#82ca9d' }
            },
            'Kicukiro': {
                'Business & Office':    { values: [60,62,65,68,70,74], color: '#82ca9d' },
                'Living & Home':        { values: [72,75,80,85,88,91], color: '#82ca9d' },
                'Land Acquisition':     { values: [58,62,65,70,75,80], color: '#82ca9d' },
                'Restaurant & Retail':  { values: [62,58,54,55,48,45], color: '#800020' }
            },
            'Gasabo': {
                'Business & Office':    { values: [65,68,72,75,78,82], color: '#82ca9d' },
                'Living & Home':        { values: [60,64,68,72,75,79], color: '#82ca9d' },
                'Land Acquisition':     { values: [50,55,60,66,72,78], color: '#82ca9d' },
                'Restaurant & Retail':  { values: [55,58,62,65,68,72], color: '#82ca9d' }
            }
        };

        function switchView(showId) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(showId).classList.add('active');
        }

        function showDetails(location) {
            currentLocation = location;
            document.getElementById('zone-title').innerText = location;
            const locData = trendData[location];
            const container = document.getElementById('category-grid');
            let html = '';
            let firstLabel = null;

            Object.keys(locData).forEach((label, index) => {
                if (index === 0) firstLabel = label;
                const vals = locData[label].values;
                const change = vals[vals.length - 1] - vals[0];
                const isUp = change >= 0;
                html += `<div class="cat-btn" id="btn-${label.replace(/\s+/g,'')}" onclick="showCategory('${label}')">
                    <span>${label}</span>
                    <span class="mini-badge ${isUp ? 'badge-up' : 'badge-down'}">${isUp ? '↑' : '↓'} ${Math.abs(change)}%</span>
                </div>`;
            });
            container.innerHTML = html;
            switchView('view-dashboard');
            if (firstLabel) showCategory(firstLabel);
        }

        let myChart = null;

        const verticalHoverLine = {
            id: 'verticalHoverLine',
            beforeDatasetsDraw(chart) {
                const { ctx, chartArea: { bottom } } = chart;
                const active = chart.getActiveElements();
                if (active.length) {
                    const x = active[0].element.x, y = active[0].element.y;
                    ctx.save();
                    ctx.beginPath();
                    ctx.moveTo(x, y);
                    ctx.lineTo(x, bottom);
                    ctx.lineWidth = 1;
                    ctx.strokeStyle = '#64748b';
                    ctx.setLineDash([4, 4]);
                    ctx.stroke();
                    ctx.restore();
                }
            }
        };
        Chart.register(verticalHoverLine);

        function generateHighDetailData(baseValues, steps, variance) {
            const out = [];
            for (let i = 0; i < baseValues.length - 1; i++) {
                const s = baseValues[i], e = baseValues[i + 1];
                for (let j = 0; j < steps; j++) {
                    out.push(+((s + (j / steps) * (e - s)) + (Math.random() - 0.5) * variance).toFixed(2));
                }
            }
            out.push(baseValues[baseValues.length - 1]);
            return out;
        }

        function showCategory(label) {
            const info = trendData[currentLocation][label];
            const isNeg = info.color === '#800020';

            document.getElementById('chart-title').innerText = label;
            document.getElementById('chart-sub').innerText = '2020 \u2013 2025 \u2022 ' + currentLocation.toUpperCase();

            document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
            const btn = document.getElementById('btn-' + label.replace(/\s+/g, ''));
            if (btn) btn.classList.add('active');

            const ctx = document.getElementById('detail-canvas').getContext('2d');
            if (myChart) myChart.destroy();

            const grad = ctx.createLinearGradient(0, 0, 0, 400);
            grad.addColorStop(0, isNeg ? 'rgba(239,68,68,0.5)' : 'rgba(132,204,22,0.5)');
            grad.addColorStop(1, 'rgba(255,255,255,0)');

            const color = isNeg ? '#dc2626' : '#65a30d';
            const vals = generateHighDetailData(info.values, 12, 12);

            myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: vals.map((_, i) => i),
                    datasets: [{ label, data: vals, borderColor: color, borderWidth: 2, backgroundColor: grad, fill: true, tension: 0, pointRadius: 0, pointHoverRadius: 6, pointHoverBackgroundColor: '#fff', pointHoverBorderColor: color, pointHoverBorderWidth: 3 }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: { mode: 'index', intersect: false, backgroundColor: '#fff', titleColor: '#000', bodyColor: '#666', padding: 10, borderColor: 'rgba(0,0,0,0.05)', borderWidth: 1, cornerRadius: 8, displayColors: false, callbacks: { label: c => c.parsed.y + '%' } }
                    },
                    scales: {
                        x: { display: false },
                        y: { display: true, position: 'right', grid: { color: 'rgba(0,0,0,0.05)', borderDash: [5,5], drawBorder: false }, ticks: { display: false } }
                    },
                    interaction: { mode: 'nearest', axis: 'x', intersect: false }
                }
            });
        }

        function goBackToLocations() { switchView('view-locations'); }

        // --- PROJECT SLIDER ---
        let currentSlide = 0;
        function moveSlider(dir) {
            const slider = document.getElementById('projectSlider');
            const items = slider.getElementsByClassName('gallery-item');
            const w = items[0].offsetWidth;
            const max = items.length - Math.floor(slider.offsetWidth / w);
            currentSlide = Math.max(0, Math.min(currentSlide + dir, max));
            slider.scrollTo({ left: currentSlide * w, behavior: 'smooth' });
        }

        // FIX 3: accept event as explicit parameter — global `event` is deprecated
        function filterProjects(e, status) {
            document.querySelectorAll('.status-btn').forEach(b => b.classList.remove('active'));
            e.target.classList.add('active');
            document.querySelectorAll('.gallery-item').forEach(item => {
                item.style.opacity = (status === 'ALL' || item.classList.contains('project-' + status.toLowerCase())) ? '1' : '0.3';
            });
        }

        // --- COUNTRY CODES ---
        const countryCodes = [
            {code:"+250",name:"Rwanda",flag:"🇷🇼"},{code:"+971",name:"United Arab Emirates",flag:"🇦🇪"},
            {code:"+1",name:"United States",flag:"🇺🇸"},{code:"+44",name:"United Kingdom",flag:"🇬🇧"},
            {code:"+93",name:"Afghanistan",flag:"🇦🇫"},{code:"+355",name:"Albania",flag:"🇦🇱"},
            {code:"+213",name:"Algeria",flag:"🇩🇿"},{code:"+376",name:"Andorra",flag:"🇦🇩"},
            {code:"+244",name:"Angola",flag:"🇦🇴"},{code:"+54",name:"Argentina",flag:"🇦🇷"},
            {code:"+374",name:"Armenia",flag:"🇦🇲"},{code:"+61",name:"Australia",flag:"🇦🇺"},
            {code:"+43",name:"Austria",flag:"🇦🇹"},{code:"+994",name:"Azerbaijan",flag:"🇦🇿"},
            {code:"+973",name:"Bahrain",flag:"🇧🇭"},{code:"+880",name:"Bangladesh",flag:"🇧🇩"},
            {code:"+375",name:"Belarus",flag:"🇧🇾"},{code:"+32",name:"Belgium",flag:"🇧🇪"},
            {code:"+229",name:"Benin",flag:"🇧🇯"},{code:"+975",name:"Bhutan",flag:"🇧🇹"},
            {code:"+591",name:"Bolivia",flag:"🇧🇴"},{code:"+387",name:"Bosnia",flag:"🇧🇦"},
            {code:"+267",name:"Botswana",flag:"🇧🇼"},{code:"+55",name:"Brazil",flag:"🇧🇷"},
            {code:"+673",name:"Brunei",flag:"🇧🇳"},{code:"+359",name:"Bulgaria",flag:"🇧🇬"},
            {code:"+226",name:"Burkina Faso",flag:"🇧🇫"},{code:"+257",name:"Burundi",flag:"🇧🇮"},
            {code:"+855",name:"Cambodia",flag:"🇰🇭"},{code:"+237",name:"Cameroon",flag:"🇨🇲"},
            {code:"+1",name:"Canada",flag:"🇨🇦"},{code:"+238",name:"Cape Verde",flag:"🇨🇻"},
            {code:"+236",name:"Central African Republic",flag:"🇨🇫"},{code:"+235",name:"Chad",flag:"🇹🇩"},
            {code:"+56",name:"Chile",flag:"🇨🇱"},{code:"+86",name:"China",flag:"🇨🇳"},
            {code:"+57",name:"Colombia",flag:"🇨🇴"},{code:"+506",name:"Costa Rica",flag:"🇨🇷"},
            {code:"+385",name:"Croatia",flag:"🇭🇷"},{code:"+53",name:"Cuba",flag:"🇨🇺"},
            {code:"+357",name:"Cyprus",flag:"🇨🇾"},{code:"+420",name:"Czech Republic",flag:"🇨🇿"},
            {code:"+243",name:"DR Congo",flag:"🇨🇩"},{code:"+45",name:"Denmark",flag:"🇩🇰"},
            {code:"+253",name:"Djibouti",flag:"🇩🇯"},{code:"+593",name:"Ecuador",flag:"🇪🇨"},
            {code:"+20",name:"Egypt",flag:"🇪🇬"},{code:"+503",name:"El Salvador",flag:"🇸🇻"},
            {code:"+291",name:"Eritrea",flag:"🇪🇷"},{code:"+372",name:"Estonia",flag:"🇪🇪"},
            {code:"+251",name:"Ethiopia",flag:"🇪🇹"},{code:"+679",name:"Fiji",flag:"🇫🇯"},
            {code:"+358",name:"Finland",flag:"🇫🇮"},{code:"+33",name:"France",flag:"🇫🇷"},
            {code:"+241",name:"Gabon",flag:"🇬🇦"},{code:"+220",name:"Gambia",flag:"🇬🇲"},
            {code:"+995",name:"Georgia",flag:"🇬🇪"},{code:"+49",name:"Germany",flag:"🇩🇪"},
            {code:"+233",name:"Ghana",flag:"🇬🇭"},{code:"+30",name:"Greece",flag:"🇬🇷"},
            {code:"+502",name:"Guatemala",flag:"🇬🇹"},{code:"+224",name:"Guinea",flag:"🇬🇳"},
            {code:"+592",name:"Guyana",flag:"🇬🇾"},{code:"+509",name:"Haiti",flag:"🇭🇹"},
            {code:"+504",name:"Honduras",flag:"🇭🇳"},{code:"+852",name:"Hong Kong",flag:"🇭🇰"},
            {code:"+36",name:"Hungary",flag:"🇭🇺"},{code:"+354",name:"Iceland",flag:"🇮🇸"},
            {code:"+91",name:"India",flag:"🇮🇳"},{code:"+62",name:"Indonesia",flag:"🇮🇩"},
            {code:"+98",name:"Iran",flag:"🇮🇷"},{code:"+964",name:"Iraq",flag:"🇮🇶"},
            {code:"+353",name:"Ireland",flag:"🇮🇪"},{code:"+972",name:"Israel",flag:"🇮🇱"},
            {code:"+39",name:"Italy",flag:"🇮🇹"},{code:"+225",name:"Ivory Coast",flag:"🇨🇮"},
            {code:"+81",name:"Japan",flag:"🇯🇵"},{code:"+962",name:"Jordan",flag:"🇯🇴"},
            {code:"+7",name:"Kazakhstan",flag:"🇰🇿"},{code:"+254",name:"Kenya",flag:"🇰🇪"},
            {code:"+965",name:"Kuwait",flag:"🇰🇼"},{code:"+996",name:"Kyrgyzstan",flag:"🇰🇬"},
            {code:"+856",name:"Laos",flag:"🇱🇦"},{code:"+371",name:"Latvia",flag:"🇱🇻"},
            {code:"+961",name:"Lebanon",flag:"🇱🇧"},{code:"+266",name:"Lesotho",flag:"🇱🇸"},
            {code:"+231",name:"Liberia",flag:"🇱🇷"},{code:"+218",name:"Libya",flag:"🇱🇾"},
            {code:"+370",name:"Lithuania",flag:"🇱🇹"},{code:"+352",name:"Luxembourg",flag:"🇱🇺"},
            {code:"+261",name:"Madagascar",flag:"🇲🇬"},{code:"+265",name:"Malawi",flag:"🇲🇼"},
            {code:"+60",name:"Malaysia",flag:"🇲🇾"},{code:"+960",name:"Maldives",flag:"🇲🇻"},
            {code:"+223",name:"Mali",flag:"🇲🇱"},{code:"+356",name:"Malta",flag:"🇲🇹"},
            {code:"+222",name:"Mauritania",flag:"🇲🇷"},{code:"+230",name:"Mauritius",flag:"🇲🇺"},
            {code:"+52",name:"Mexico",flag:"🇲🇽"},{code:"+373",name:"Moldova",flag:"🇲🇩"},
            {code:"+377",name:"Monaco",flag:"🇲🇨"},{code:"+976",name:"Mongolia",flag:"🇲🇳"},
            {code:"+382",name:"Montenegro",flag:"🇲🇪"},{code:"+212",name:"Morocco",flag:"🇲🇦"},
            {code:"+258",name:"Mozambique",flag:"🇲🇿"},{code:"+95",name:"Myanmar",flag:"🇲🇲"},
            {code:"+264",name:"Namibia",flag:"🇳🇦"},{code:"+977",name:"Nepal",flag:"🇳🇵"},
            {code:"+31",name:"Netherlands",flag:"🇳🇱"},{code:"+64",name:"New Zealand",flag:"🇳🇿"},
            {code:"+505",name:"Nicaragua",flag:"🇳🇮"},{code:"+227",name:"Niger",flag:"🇳🇪"},
            {code:"+234",name:"Nigeria",flag:"🇳🇬"},{code:"+47",name:"Norway",flag:"🇳🇴"},
            {code:"+968",name:"Oman",flag:"🇴🇲"},{code:"+92",name:"Pakistan",flag:"🇵🇰"},
            {code:"+970",name:"Palestine",flag:"🇵🇸"},{code:"+507",name:"Panama",flag:"🇵🇦"},
            {code:"+675",name:"Papua New Guinea",flag:"🇵🇬"},{code:"+595",name:"Paraguay",flag:"🇵🇾"},
            {code:"+51",name:"Peru",flag:"🇵🇪"},{code:"+63",name:"Philippines",flag:"🇵🇭"},
            {code:"+48",name:"Poland",flag:"🇵🇱"},{code:"+351",name:"Portugal",flag:"🇵🇹"},
            {code:"+974",name:"Qatar",flag:"🇶🇦"},{code:"+242",name:"Republic of Congo",flag:"🇨🇬"},
            {code:"+40",name:"Romania",flag:"🇷🇴"},{code:"+7",name:"Russia",flag:"🇷🇺"},
            {code:"+966",name:"Saudi Arabia",flag:"🇸🇦"},{code:"+221",name:"Senegal",flag:"🇸🇳"},
            {code:"+381",name:"Serbia",flag:"🇷🇸"},{code:"+232",name:"Sierra Leone",flag:"🇸🇱"},
            {code:"+65",name:"Singapore",flag:"🇸🇬"},{code:"+421",name:"Slovakia",flag:"🇸🇰"},
            {code:"+386",name:"Slovenia",flag:"🇸🇮"},{code:"+252",name:"Somalia",flag:"🇸🇴"},
            {code:"+27",name:"South Africa",flag:"🇿🇦"},{code:"+82",name:"South Korea",flag:"🇰🇷"},
            {code:"+211",name:"South Sudan",flag:"🇸🇸"},{code:"+34",name:"Spain",flag:"🇪🇸"},
            {code:"+94",name:"Sri Lanka",flag:"🇱🇰"},{code:"+249",name:"Sudan",flag:"🇸🇩"},
            {code:"+597",name:"Suriname",flag:"🇸🇷"},{code:"+268",name:"Swaziland",flag:"🇸🇿"},
            {code:"+46",name:"Sweden",flag:"🇸🇪"},{code:"+41",name:"Switzerland",flag:"🇨🇭"},
            {code:"+963",name:"Syria",flag:"🇸🇾"},{code:"+886",name:"Taiwan",flag:"🇹🇼"},
            {code:"+992",name:"Tajikistan",flag:"🇹🇯"},{code:"+255",name:"Tanzania",flag:"🇹🇿"},
            {code:"+66",name:"Thailand",flag:"🇹🇭"},{code:"+228",name:"Togo",flag:"🇹🇬"},
            {code:"+676",name:"Tonga",flag:"🇹🇴"},{code:"+216",name:"Tunisia",flag:"🇹🇳"},
            {code:"+90",name:"Turkey",flag:"🇹🇷"},{code:"+993",name:"Turkmenistan",flag:"🇹🇲"},
            {code:"+256",name:"Uganda",flag:"🇺🇬"},{code:"+380",name:"Ukraine",flag:"🇺🇦"},
            {code:"+598",name:"Uruguay",flag:"🇺🇾"},{code:"+998",name:"Uzbekistan",flag:"🇺🇿"},
            {code:"+58",name:"Venezuela",flag:"🇻🇪"},{code:"+84",name:"Vietnam",flag:"🇻🇳"},
            {code:"+967",name:"Yemen",flag:"🇾🇪"},{code:"+260",name:"Zambia",flag:"🇿🇲"},
            {code:"+263",name:"Zimbabwe",flag:"🇿🇼"}
        ];

        function populateCountrySelect() {
            const select = document.getElementById('phone-code');
            if (!select) return;
            countryCodes.forEach(c => {
                const opt = document.createElement('option');
                opt.value = c.code;
                opt.textContent = `${c.flag} ${c.code} ${c.name}`;
                if (c.code === '+250') opt.selected = true;
                select.appendChild(opt);
            });
        }

        // FIX 4: define apiBase — was never declared, causing ReferenceError on form submit
        const apiBase = window.location.origin;

        document.addEventListener('DOMContentLoaded', () => {
            populateCountrySelect();

            const regForm = document.querySelector('.reg-form');
            if (regForm) {
                regForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const btn = regForm.querySelector('.submit-btn');
                    const orig = btn.innerText;
                    btn.innerText = 'SENDING...';
                    btn.disabled = true;

                    const data = {};
                    regForm.querySelectorAll('input, select').forEach(inp => {
                        const key = (inp.name || inp.placeholder || 'field').replace(/[*?]/g, '').trim();
                        data[key] = inp.value;
                    });

                    try {
                        const res = await fetch(`${apiBase}/api/register`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(data)
                        });
                        if (res.ok) {
                            alert('Thank you for your interest! Your registration was successful.');
                            regForm.reset();
                        } else {
                            alert('Something went wrong. Please try again later.');
                        }
                    } catch (err) {
                        console.error('Registration error:', err);
                        alert('Error connecting to server. Please ensure the backend is running.');
                    } finally {
                        btn.innerText = orig;
                        btn.disabled = false;
                    }
                });
            }
        });
    </script>
</body>

</html>
